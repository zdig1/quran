:root{--space-sm:.5rem;--space-md:.75rem;--space-lg:1rem;--text-sm:.875rem;--text-md:1rem;--text-lg:1.125rem;--text-xl:1.25rem;--header-height:3.75rem;--footer-height:3.125rem;--button-size:2.75rem;--border-radius:.5rem;--border-radius-lg:.75rem;--primary:#1a5e25;--primary-dark:#0d4214;--primary-light:rgba(26,94,37,.1);--bg:#f5f5f5;--surface:#ffffff;--surface-alt:#f9f9f9;--text:#333333;--text-light:#666666;--text-lighter:#999999;--border:#dddddd;--border-dark:#cccccc;--shadow:0 2px 10px rgba(0,0,0,.1);--shadow-heavy:0 5px 20px rgba(0,0,0,.15);--success:#4caf50;--error:#d32f2f;--overlay-bg:rgba(0,0,0,.7);--menu-bg:#000000;--menu-text:#ffffff;--menu-border:#333333;--badge-search:#d32f2f;--badge-juzhizb:#1976d2;--quran-text-red:#d32f2f;--quran-text-red-bg:rgba(211,47,47,.05);--stat-results:#d32f2f;--stat-suras:#1a5e25;--tag-bg:var(--primary-light);--tag-color:var(--primary);--search-text-color:#d32f2f;--remove-btn-bg:#ffeded;--remove-btn-color:var(--error);--remove-btn-border:#ffcdd2;--icon-size-secondary:var(--text-md);--bookmark-color:gold;--border-width:2px;--transition-default:opacity .3s ease;--current-item-bg:rgb(146,178,152);--tafsir-select-bg:#d32f2f;--tafsir-select-text:#ffffff}.night-mode{--primary:#4caf50;--primary-dark:#388e3c;--primary-light:rgba(76,175,80,.2);--bg:#121212;--surface:#1e1e1e;--surface-alt:#252525;--text:#ffffff;--text-light:#b0b0b0;--text-lighter:#777777;--border:#333333;--border-dark:#444444;--shadow:0 2px 10px rgba(0,0,0,.3);--shadow-heavy:0 5px 20px rgba(0,0,0,.4);--badge-search:#ff6b6b;--badge-juzhizb:#64b5f6;--quran-text-red:#ff6b6b;--quran-text-red-bg:rgba(255,107,107,.1);--stat-results:#ff6b6b;--stat-suras:#4caf50;--tag-bg:rgba(76,175,80,.2);--tag-color:var(--success);--search-text-color:#ff6b6b;--remove-btn-bg:#3a1f1f;--remove-btn-color:#ff6b6b;--remove-btn-border:#5a2a2a;--current-item-bg:#2a4a2a;--tafsir-select-bg:#8b3a3a;--tafsir-select-text:#ffffff}*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none}html{font-size:16px}html,body{width:100%;height:100%;overflow:hidden;font-family:'Segoe UI',Tahoma,sans-serif;direction:rtl;background:var(--bg);color:var(--text)}#app{width:100vw;height:100vh;display:flex;flex-direction:column;position:relative;overflow:hidden}.page-container{position:absolute;inset:0;background:var(--bg);z-index:1;display:flex;flex-direction:column}@font-face{font-family:'MyNotoKufi';src:url('media/NotoKufiArabic-Bold.woff2') format('woff2');font-weight:bold;font-display:swap}.header,.footer{position:absolute;left:0;right:0;z-index:1001;background:transparent;display:flex;align-items:center;transition:var(--transition-default),visibility .3s ease}.header.hidden,.footer.hidden{opacity:0;visibility:hidden;pointer-events:none}.header:not(.hidden),.footer:not(.hidden){opacity:1;visibility:visible;pointer-events:auto}.header{height:var(--header-height);top:0;justify-content:space-between}.footer{height:var(--footer-height);bottom:0;display:grid;grid-template-columns:1fr auto 1fr}.footer-item{display:flex;align-items:center}.footer-item:first-child{justify-content:flex-start}.footer-item:last-child{justify-content:flex-end}.footer-surah,.footer-value{background:rgba(255,255,255,.7);border-radius:1.25rem;padding:var(--space-sm) var(--space-md);color:var(--text);font-weight:500;box-shadow:0 1px 6px rgba(0,0,0,.1)}.night-mode .footer-surah,.night-mode .footer-value{background:rgba(30,30,30,.7)}.footer-surah{font-size:var(--text-sm);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.footer-value{font-size:var(--text-lg);font-weight:bold;color:var(--primary)}.night-mode .footer-value{color:var(--success)}.sajda-icon,.item-sajda-icon{font-size:1.25em;display:inline-flex;align-items:center;justify-content:center;line-height:1;color:var(--primary)}.btn{display:flex;align-items:center;justify-content:center;cursor:pointer;border:none;outline:none;font-family:inherit}.header-btn{width:var(--button-size);height:var(--button-size);background:rgba(255,255,255,.7);border-radius:50%;color:var(--primary);font-size:var(--text-lg);box-shadow:var(--shadow)}.night-mode .header-btn{background:rgba(30,30,30,.7);color:var(--success)}.close-btn{background:none;color:var(--error);font-size:1.5rem;width:3rem;height:3rem;border-radius:50%;font-weight:900;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;border:2px solid transparent;line-height:1;padding:0;margin:0}.icon-btn{width:2rem;height:2rem;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-size:var(--text-sm);cursor:pointer;border:1px solid transparent;background:var(--surface-alt);transition:background .2s}.icon-btn:hover{background:var(--primary-light)}.icon-btn--edit,.icon-btn--remove,.icon-btn--recycle{color:var(--primary);border-color:var(--border)}.pin-btn{background:none;border:none;color:var(--text-lighter);font-size:var(--text-md);cursor:pointer;padding:0;margin:0;line-height:1;display:inline-flex;align-items:center;justify-content:center;transition:color .2s ease}.pin-btn:hover{opacity:.8}.pin-btn.pinned{color:var(--bookmark-color)}.page-scroll{position:relative;z-index:999;flex:1;width:100%;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;overscroll-behavior-y:none;touch-action:pan-y;padding:0!important;margin:0!important}.page-wrapper{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background:var(--bg)}.page-image{width:100%;max-width:100%;height:auto;display:block;object-fit:contain;aspect-ratio:700/1100;margin:0;padding:0;will-change:transform;transform:translateZ(0);backface-visibility:hidden;contain:layout style paint;background-color:#fff}.page-image[data-loaded="false"]{opacity:0;transition:opacity .3s ease}.page-image[data-loaded="true"]{opacity:1}.night-mode .page-image{filter:invert(1) hue-rotate(-30deg);contain:paint;content-visibility:auto}.night-mode .tajweed-image img,.night-mode .khatm-page img{filter:invert(.93) hue-rotate(180deg) brightness(.9) contrast(1.1);background-color:var(--bg)}.mode-portrait .page-scroll{overflow:hidden;display:block;height:100vh;width:100vw;position:relative;transition:all .3s ease;background:var(--bg)}.mode-portrait .page-wrapper{width:100vw;height:90vh;display:none;align-items:center;justify-content:center;position:absolute;top:0;left:0;transition:none;background:var(--bg)}.mode-portrait .page-wrapper.active{display:flex;align-items:center;justify-content:center;height:100vh;background:var(--bg)}.mode-portrait .portrait-image{width:100%;height:90vh;max-height:90vh;min-height:auto;object-fit:fill;margin:auto;aspect-ratio:unset;transition:none}.mode-landscape .page-scroll{overflow-x:hidden!important;overflow-y:auto!important;display:block!important;scroll-behavior:smooth;transition:all .3s ease}.mode-landscape .page-wrapper{width:100vw!important;display:flex!important;transition:none!important}.mode-landscape .landscape-image{width:100%!important;height:auto!important;aspect-ratio:700 / 1100!important;object-fit:contain!important;display:block;transition:none!important}.overlay,.menu-overlay{position:fixed;inset:0;background:var(--overlay-bg);z-index:9999;display:none;align-items:center;justify-content:center;padding:5px}.menu-overlay{background:rgba(0,0,0,.5)}.overlay.show,.menu-overlay.show{display:flex}.overlay-content{background:var(--surface);width:100%;max-width:31.25rem;max-height:70vh;border-radius:var(--border-radius-lg);display:flex;flex-direction:column;overflow:hidden;box-shadow:var(--shadow-heavy)}.overlay-content.fullscreen{width:100vw;height:100vh;max-width:100vw;max-height:100vh;border-radius:0;position:absolute;inset:0;z-index:10000}.overlay-header{height:3.75rem;padding:0 var(--space-lg);display:flex;align-items:center;justify-content:space-between;background:var(--surface);border-bottom:1px solid var(--border);flex-shrink:0}.overlay-header h2{font-family:'MyNotoKufi',sans-serif;font-size:var(--text-lg);font-weight:600;color:var(--text);margin:0}.overlay-body{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;scroll-behavior:auto!important;text-align:justify!important;text-align-last:right!important}.menu-content{width:15.625rem;position:absolute;top:0;right:0;bottom:0;background:var(--menu-bg);box-shadow:2px 0 10px rgba(0,0,0,.5);overflow-y:auto;display:flex;flex-direction:column}.menu-header{padding:var(--space-lg) var(--space-md);border-bottom:1px solid var(--menu-border);display:flex;align-items:center;justify-content:space-between}.menu-header h2{color:var(--menu-text);font-size:var(--text-lg);margin:0;font-family:'MyNotoKufi',sans-serif}.menu-items{display:flex;flex-direction:column;gap:1px}.menu-item{display:flex;align-items:center;justify-content:flex-start;background:transparent;border-bottom:1px solid var(--menu-border);padding:.75rem var(--space-lg);width:100%;cursor:pointer}.menu-icon-svg{width:1.375rem;height:1.375rem;fill:white;stroke:white;flex-shrink:0}.menu-text{color:white;flex:1;text-align:right;font-size:var(--text-md);font-family:'MyNotoKufi',sans-serif;padding-right:var(--space-md)}.item-container{padding:5px 10px;border-bottom:1px solid var(--border);cursor:pointer;display:flex;flex-direction:column;width:100%;min-height:auto}.item-container:last-child{border-bottom:none}.item-line-1,.item-line-2{display:flex;justify-content:space-between;align-items:center;width:100%;direction:rtl}.item-right{display:flex;align-items:center;gap:var(--space-md);flex:1;justify-content:flex-start}.item-left{display:flex;align-items:center;gap:var(--space-sm);margin-left:auto;flex-shrink:0}.item-title{font-size:var(--text-lg);font-weight:700;color:var(--text);line-height:1.4}.item-subtitle,.item-tertiary{font-size:var(--text-sm)}.item-subtitle{color:var(--text-light);line-height:1.3}.item-tertiary{color:var(--text-lighter)}.item-badge{min-width:2.2rem;width:2.2rem;height:2.2rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:var(--text-sm);font-weight:bold;flex-shrink:0;color:white;background:var(--badge-bg,var(--primary))}.item-search .item-badge{--badge-bg:var(--badge-search)}.item-surah .item-badge{--badge-bg:var(--primary)}.item-juzhizb .item-badge{--badge-bg:var(--badge-juzhizb)}.juzhizb-grid{display:grid;grid-template-columns:2.5rem 1fr;align-items:center;gap:var(--space-md)}.juzhizb-grid-col1{grid-column:1;display:flex;align-items:center;justify-content:center;width:2.5rem}.juzhizb-grid-col2{grid-column:2;min-width:0;overflow:hidden}.aya-text{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#d32f2f;font-family:'MyNotoKufi',sans-serif;font-size:14px;margin-bottom:4px}.aya-prefix{color:var(--text-light);font-size:12px;display:block}.juzhizb-grid-col1.item-badge{width:100%;height:auto;aspect-ratio:1 / 1;min-width:unset}.item-icon{display:inline-flex;align-items:center;justify-content:center;min-width:2rem;font-size:var(--text-md)}.item-bookmark-indicator{color:var(--bookmark-color)}.item-sajda-icon{color:var(--primary);min-width:1rem}.item-tag{background:var(--tag-bg);color:var(--tag-color);padding:3px 5px;border-radius:var(--border-radius);font-weight:600;font-size:var(--text-sm);white-space:nowrap}.item-revelation-icon{font-size:var(--text-md);display:inline-block;width:1.8em;text-align:center}.item-left-icon-col,.item-left-tag-col{display:inline-flex;align-items:center}.item-left-icon-col{min-width:2rem;justify-content:center}.item-left-tag-col{justify-content:flex-end;width:4rem;flex-shrink:0}.item-left-tag-col .item-tag,.item-left-tag-col .item-tertiary{width:100%;text-align:right}.item-container.current-item{background-color:var(--current-item-bg)}.item-container.current-item .item-title,.item-container.current-item .item-subtitle,.item-container.current-item .item-tertiary,.item-container.current-item .item-tag,.item-container.current-item .item-revelation-icon,.item-container.current-item .item-sajda-icon,.item-container.current-item .item-bookmark-indicator{color:var(--quran-text-red)!important}.surah-section{margin-bottom:var(--space-lg)}.surah-section .section-title{font-size:var(--text-md);font-weight:600;color:var(--text-light);padding:var(--space-md) var(--space-lg);background:var(--surface-alt);border-bottom:1px solid var(--border);margin:0;position:sticky;top:0;z-index:1;backdrop-filter:blur(4px)}.item-surah .item-line-2 .item-right{margin-right:calc(1.875rem + var(--space-md))}.order-value{display:inline-block;min-width:1.8em;text-align:left;direction:ltr}.bookmarks-overlay-content{width:100%;padding:10px;margin:0}.bookmarks-list{flex:1;overflow-y:auto}.bookmarks-add-form{display:flex;flex-wrap:wrap;align-items:center;gap:10px;justify-content:flex-start;margin-top:15px;padding:0}.bookmarks-add-form .search-input{flex:1;min-width:120px;padding:10px;border:1px solid #ccc;border-radius:var(--border-radius);width:100%}.bookmarks-add-form .btn{flex:0 0 auto;padding:10px 20px;border:none;border-radius:var(--border-radius);font-weight:bold;cursor:pointer}.bookmarks-add-form .btn-add{background-color:var(--primary);color:white}.bookmarks-add-form .btn-cancel{background-color:#6c757d;color:white;display:none}.item-bookmark.editing-bookmark{background-color:var(--primary-light);border:2px solid var(--primary);border-radius:8px}.khatm-content,.tajweed-content{flex:1;width:auto;overflow-y:auto;display:flex;flex-direction:column;background:var(--bg);padding:0}.khatm-content{gap:0;padding:0;align-items:stretch}.khatm-page{width:100%;display:flex;flex-direction:column;align-items:stretch}.khatm-page img,.tajweed-image img{width:100%;max-width:100%;height:auto;display:block;object-fit:contain}.khatm-page img{border-radius:0;box-shadow:none;margin:0;padding:0}.search-container{padding:var(--space-lg);background:var(--surface);flex-shrink:0}.search-input{width:100%;padding:var(--space-md) var(--space-lg);border:1px solid var(--border);border-radius:var(--border-radius);font-size:var(--text-md);background:var(--surface);color:var(--text);text-align:right}.search-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px var(--primary-light)}.search-stats{padding:var(--space-sm) 0}.search-stats-content{display:flex;justify-content:flex-start;align-items:center;direction:rtl;color:var(--text);font-size:var(--text-sm);gap:var(--space-sm)}.stat-results,.stat-suras{font-weight:bold}.stat-results{color:var(--stat-results)}.stat-suras{color:var(--stat-suras)}.item-search{padding:var(--space-lg);border-bottom:1px solid var(--border);cursor:pointer;transition:background-color .2s}.item-search-text,.item-search .item-line-2.item-search-text{font-family:'MyNotoKufi',sans-serif;font-weight:bold;font-size:14px;color:var(--search-text-color);text-align:justify!important;text-align-last:right!important;line-height:2.2!important;word-spacing:-1px!important}#searchResults{text-align:center!important}#searchResults .search-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;color:var(--text-light)}#searchResults .search-empty p{margin:.5rem 0;text-align:center}.loading-placeholder,.empty-message{text-align:center;color:var(--text-light);padding:15px}.tafsir-controls{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem;padding:.5rem;background:var(--surface);border-bottom:1px solid var(--border);direction:rtl}.tafsir-select{flex:1 1 auto;min-width:100px;height:auto;padding:.75rem 1rem;border:1px solid var(--border);border-radius:var(--border-radius);background:var(--tafsir-select-bg);color:var(--tafsir-select-text);font-size:.9rem;font-weight:bold;cursor:pointer}.tafsir-font-btn{flex:0 0 auto;width:2.5rem;height:2.5rem;background:var(--surface-alt);border:1px solid var(--border);color:var(--text);border-radius:50%;font-size:1.2rem;font-weight:bold;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.tafsir-container{margin:0;border-radius:0;box-shadow:none;border:none;background:var(--surface)}.tafsir-aya-container{margin-bottom:0;direction:rtl;border-radius:0;overflow:visible;border-bottom:var(--border-width) solid var(--border);scroll-margin-top:70px}.tafsir-aya-container:last-child{border-bottom:1px solid var(--border)}.tafsir-explanation{color:var(--text);font-family:'Segoe UI',sans-serif;font-weight:normal;text-align:right;direction:rtl;text-align:justify!important;text-align-last:right!important;line-height:1.5!important;font-size:16px}.tafsir-content-container{padding:20px!important;direction:rtl!important;line-height:1.8;scroll-behavior:auto!important;overflow-anchor:none!important;text-align:justify!important;text-align-last:right!important}#tafsirContent{scroll-behavior:auto!important;overflow-anchor:none!important}.sura-title-container{text-align:center;margin:1.5rem 0 1rem 0;padding:.5rem 0;border-bottom:var(--border-width) solid var(--primary);display:flex;align-items:center;justify-content:center;gap:1rem;direction:rtl;position:relative}.sura-badge{width:2.2rem;height:2.2rem;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:.9rem;background:var(--primary);color:white;flex-shrink:0}.sura-name-kufi{font-family:'MyNotoKufi',sans-serif;font-weight:bold;font-size:1.5rem;color:var(--primary);line-height:1.4;text-align:center!important;width:auto!important;display:block!important;margin:0!important}.night-mode .sura-title-container{border-bottom-color:var(--success)}.night-mode .sura-badge{background:var(--success)}.night-mode .sura-name-kufi{color:var(--success)}.tafsir-font-btn:hover{background:var(--primary-light);border-color:var(--primary)}.night-mode .tafsir-font-btn{color:var(--text);border-color:var(--border-dark)}.night-mode .tafsir-font-btn:hover{background:rgba(76,175,80,.2)}.tajweed-image img{box-shadow:var(--shadow)}.tajweed-text{direction:rtl;line-height:1.9;font-size:var(--text-md);color:var(--text);padding:5px 2px;margin-right:5px;gap:15px;text-align:justify!important;text-align-last:right!important}.tajweed-text ul{text-align:justify!important;text-align-last:right!important;padding-right:10px!important}.about-content strong{color:var(--primary)}.night-mode .about-content strong{color:var(--success)}.loading-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.spinner{width:2.5rem;height:2.5rem;border:3px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin:var(--space-lg) auto}@keyframes spin{to{transform:rotate(360deg)}}.toast{position:fixed;bottom:100px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.9);color:white;padding:12px 20px;border-radius:10px;z-index:10000;max-width:80%;text-align:center;display:none;font-size:14px;box-shadow:0 4px 12px rgba(0,0,0,.2);white-space:pre-line;line-height:1.5;font-weight:500}::-webkit-scrollbar{width:0;background:transparent}.confirm-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:99999;display:flex;align-items:center;justify-content:center}.confirm-dialog{background:var(--surface);color:var(--text);border-radius:12px;padding:24px;max-width:320px;width:90%;text-align:center;direction:rtl;box-shadow:var(--shadow-heavy)}.confirm-dialog p{margin:0 0 20px;font-size:1rem;line-height:1.5}.confirm-buttons{display:flex;gap:12px;justify-content:center}.confirm-btn{min-width:80px;padding:.75rem 1.2rem;border-radius:var(--border-radius);font-weight:bold;border:none;cursor:pointer;transition:background .2s;text-align:center;line-height:1.2;margin:0 .25rem}.confirm-btn.ok{background:var(--primary);color:white}.confirm-btn.cancel{background:#6c757d;color:white}.confirm-btn.ok:hover{background:var(--primary-dark)}.confirm-btn.cancel:hover{background:#5a6268}.item-surah .item-title{font-family:'MyNotoKufi',sans-serif}.clear-search-btn{position:absolute;left:5px;top:0;margin:auto 0;width:40px;height:40px;background:none;border:none;font-size:1.2rem;cursor:pointer;color:var(--text-light);padding:0;line-height:1;z-index:10;transition:color .2s;display:flex;align-items:center;justify-content:center}.clear-search-btn:hover{color:var(--text)}#searchInput{padding-left:40px!important;box-sizing:border-box}.about-content{flex:1;width:auto;overflow-y:auto;display:flex;flex-direction:column;background:var(--bg);direction:rtl;padding:.5rem;gap:.4rem;color:var(--text);text-align:justify;text-align-last:right}.about-title{text-align:center;font-size:var(--text-lg);color:var(--primary);line-height:1.5}.night-mode .about-title{color:var(--success)}.about-version{font-size:var(--text-sm);color:var(--text-light)}.about-desc{font-size:var(--text-md);line-height:1.7;color:var(--text);text-align:justify}.about-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem;margin:.5rem 0}.about-stat{display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--surface-alt);border:1px solid var(--border);border-radius:var(--border-radius);padding:.5rem;gap:.25rem}.about-stat span{font-size:var(--text-sm);color:var(--text-light)}.about-stat strong{font-size:var(--text-lg);font-weight:bold;color:var(--primary)}.night-mode .about-stat strong{color:var(--success)}.about-footer{text-align:center;text-align-last:center;font-size:var(--text-sm);color:var(--text-light);line-height:1.8;margin-top:auto;padding-top:.5rem}.about-footer a{color:var(--primary);text-decoration:none}.night-mode .about-footer a{color:var(--success)}